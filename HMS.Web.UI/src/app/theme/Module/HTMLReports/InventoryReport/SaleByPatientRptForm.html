<div class="col-sm-12 AddRoleWraper">
    <div class="row headSection paginationHead">
        <div class="col-sm-8 no-padding">
            <h3 class="page-heading mt-d-inline-block">
                Sale By Patient Report
            </h3>
        </div>
        <div class="col-sm-4 text-right p-0">
            <span class="closeICon" routerLink="/home/report">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" class="icon icon-sm"><path d="M455.2 9.2L256 208.4 56.8 9.2C44.5-3.1 24.6-3.1 12.2 9.2l-2.9 2.9C-3 24.4-3 44.4 9.3 56.7L208.4 256 9.2 455.2c-12.3 12.3-12.3 32.3 0 44.6l2.9 2.9c12.3 12.3 32.3 12.3 44.6 0L256 303.6l199.2 199.2c12.3 12.3 32.3 12.3 44.6 0l2.9-2.9c12.3-12.3 12.3-32.3 0-44.6L303.6 256 502.8 56.8c12.3-12.3 12.3-32.3 0-44.6l-2.9-2.9c-12.5-12.4-32.4-12.4-44.7-.1z"></path></svg>
            </span>
        </div>
    </div>
    <div class="Cardview mx-0 px-3 Report_Wrap">

        <div class="filter_bar row  pt-3">
            <div class="col-sm-2">
                <div class="form-group small-input">
                    <label for="">From Date</label>
                    <Datetime-Component placeholder="DD/MM/YYYY" [ngModelOptions]="{standalone:true}" [(ngModel)]="model.FromDate">
                    </Datetime-Component>
                </div>
            </div>

            <div class="col-sm-2">
                <div class="form-group small-input">
                    <label for="">To Date</label>
                    <Datetime-Component placeholder="DD/MM/YYYY" [ngModelOptions]="{standalone:true}" [(ngModel)]="model.ToDate">
                    </Datetime-Component>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label for="">Patient</label>
                    <input type="text" id="PatientSearchByName" (click)="LoadPatient()" class="form-control form-control-sm form-control-alternative" [ngModelOptions]="{standalone:true}" [(ngModel)]="model.PatientName" placeholder="Search Patient" autocomplete="off">

                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label for="">Item</label>
                    <input type="text" id="ItemSearchByName" (click)="LoadItem()" class="form-control form-control-sm form-control-alternative" [ngModelOptions]="{standalone:true}" [(ngModel)]="model.ItemName" placeholder="Search Item" autocomplete="off">

                </div>
            </div>
            <div class="col-sm-1">
                <label class="opacity0">Report</label>
                <button class="btn btn-primary btn-block" (click)="RunReport()">View</button>
            </div>

            <div class="col-sm-4">
                <label class="opacity0 d-block">Report</label>
                <div class="dropdown float-right">
                    <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown">
                        Actions
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" (click)="DownloadPDF()">Downlaod Pdf</a>
                        <a class="dropdown-item" (click)="DownloadExcel()">Downlaod Excel</a>
                        
                       
                    </div>
                </div>
            </div>

        </div>


        <div class="row AddNewItem"id="RptPDF" #RptPDF>
            <div class="col-sm-8">
                <table class="table Reports_table"  border="1">
                    <thead class="gray_head">
                        <tr>
                            <th>
                                Date / Time
                            </th>
                            <th>
                                Patient Name
                            </th>
                            <th>
                                Item Name
                            </th>
                            <th>
                                Type
                            </th>
                            <th class="text-right">
                                Qty
                            </th>
                            <th class="text-right">
                                Cost Price
                            </th>
                            <th class="text-right">
                                Sale Price
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let f of DataList">
                            <td>
                                {{f.CreatedDate|date: 'MM/dd/yyyy'}}
                            </td>
                            <td>
                                {{f.PatientName}}
                            </td>
                            <td>
                                {{f.ItemName}}
                            </td>
                            <td>
                                {{f.Type}}
                            </td>
                            <td class="text-right">
                                {{f.Qty}}
                            </td>
                            <td class="text-right">
                                {{f.CostPrice}}
                            </td>
                            <td class="text-right">
                                {{f.SalePrice}}
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4">
                                <strong>Total</strong>
                            </td>
                            <td class="text-right">
                                <strong>
                                    {{totalQty}}
                                </strong>
                            </td>
                            <td class="text-right">
                                <strong>
                                    {{totalCost}}
                                </strong>
                            </td>
                            <td class="text-right">
                                <strong>
                                    {{totalSale}}
                                </strong>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

</div>


